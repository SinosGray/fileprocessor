---
categories:
- 读书笔记
date: 2022-08-03 19:58:58
sticky: 100
tags:
- networks
- server
- network
- internet
- layer
title: 自顶向下读书笔记
---

> 

<!--more-->

# 目录

## 1 Computer Networks and the Internet 

1.1  What Is the Internet? 

1.1.1  A Nuts-and-Bolts Description 

host/end system, connected by communication links & packet switches

Link-layer switches are typically used in access networks, while routers are typically used in the network core

ISP

1.1.2  A Services Description 

API

1.1.3  What Is a Protocol? 

1.2  The Network Edge 

1.2.1  Access Networks : host+first router

home access

- DSL(telephone) cable(TV, HFC) FTTH(optical) Satellite

enterprise access

- LAN(Ethernet, wifi, 蜂窝)

1.2.2  Physical Media 

| access | media                    |
| ------ | ------------------------ |
| DSL    | twisted-pair copper wire |
| HFC    | coaxial cable            |
| FTTH   | fiber optics             |



1.3  The Network Core 

1.3.1  Packet Switching 

- store and forward
- delay
- route

1.3.2  Circuit Switching 

traditional telephone network

1.3.3  A Network of Networks 

- ISP

1.4  Delay, Loss, and Throughput in Packet-Switched Networks 

1.4.1  Overview of Delay in Packet-Switched Networks 

- processing delay, queuing delay, transmission delay, propagation delay

1.4.2  Queuing Delay and Packet Loss 

- traffic intensity La/R

1.4.3  End-to-End Delay 

1.4.4  Throughput in Computer Networks 

bit per second

bottleneck link

1.5  Protocol Layers and Their Service Models 47

1.5.1 Layered Architecture 47 

- 5 application transport network link physical
- 5 message消息 segment报文段 datagram数据报 frame帧 bit
- 7OSI Application presentation session transport network link physical

1.5.2 Encapsulation 53

1.6  Networks Under Attack 55

malware

viruses: malware requir user interaction

worms: malware without user interaction

DoS(denial of service)

DDoS(distributed denial of service)

IP spoofing

1.7  History of Computer Networking and the Internet 

1.7.1  The Development of Packet Switching: 1961–1972 

1.7.2  Proprietary Networks and Internetworking: 1972–1980 

1.7.3  A Proliferation of Networks: 1980–1990 

1.7.4  The Internet Explosion: The 1990s 

1.7.5  The New Millennium 

1.8  Summary 66



## 2 Application Layer 

2.1  Principles of Network Applications 

2.1.1  Network Application Architectures 

- C/S p2p
- 客户端是发起连接的, 服务端是等待被连接的

2.1.2  Processes Communicating 

- socket 是应用层和传输层的接口

  a socket is the interface between **the application layer and the transport layer within a host**. It is also referred to as the Application Programming Inter- face **(API) between the application and the network**.

2.1.3  Transport Services Available to Applications 

internet 不提供 throughput 和 timing 保障

2.1.4  Transport Services Provided by the Internet 

- UDP TCP SSL(*?*), ssl 是 tcp 在应用层的加强(but instead is an enhancement of TCP, with the enhancements being implemented in the application layer)

2.1.5  Application-Layer Protocols 

2.1.6  Network Applications Covered in This Book 

2.2  The Web and HTTP 

2.2.1  Overview of HTTP 

TCP

Because an HTTP server maintains no information about the clients, HTTP is said to be a stateless protocol

2.2.2  Non-Persistent and Persistent(closed when timeout) Connections 

- 每一个请求是开一个新的 tcp 连接还是可继续使用之前的 tcp 连接

- RTT round trip time

- three way handshake

### 2.2.3  HTTP Message Format 

ASCII

1 request line get post head put delete

**head**

The HTTP HEAD method requests [HTTP headers](https://reqbin.com/Article/HttpHeaders) from the server as if the document was requested using the [HTTP GET](https://reqbin.com/Article/HttpGet) method. The only difference between HTTP HEAD and GET requests is that for HTTP HEAD, the server only returns headers without body.

**Both PUT and POST can be used for creating.**

You have to ask, "what are you performing the action upon?", to distinguish what you should be using. Let's assume you're designing an API for asking questions. If you want to use POST, then you would do that to a list of questions. If you want to use PUT, then you would do that to a particular question.

**Great, both can be used, so which one should I use in my RESTful design:**

Some considerations:

- Do you name the URL objects you create explicitly, or let the server decide? If you name them then use PUT. If you let the server decide then use POST.
- PUT is defined to assume idempotency, so if you PUT **an object twice, it should have no additional effect**. This is a nice property, so I would use PUT when possible. Just make sure that the PUT-idempotency actually is implemented correctly in the server.
- You can update or create a resource with PUT with the same object URL
- With POST you can have 2 requests coming in at the same time making modifications to a URL, and they may update different parts of the object.

**An example:**

**POST:**

Used to modify and update a resource

```
POST /questions/<existing_question> HTTP/1.1
Host: www.example.com/
```

Note that the following is an error:

```
POST /questions/<new_question> HTTP/1.1
Host: www.example.com/
```

If the URL is not yet created, you should not be using POST to create it while specifying the name. This should result in a 'resource not found' error because `<new_question>` does not exist yet. You should PUT the `<new_question>` resource on the server first.

You could though do something like this to create a resources using POST:

```
POST /questions HTTP/1.1
Host: www.example.com/
```

Note that in this case the resource name is not specified, the new objects URL path would be returned to you.

**PUT:**

Used to create a resource, or overwrite it. While you specify the resources new URL.

For a new resource:

```
PUT /questions/<new_question> HTTP/1.1
Host: www.example.com/
```

To overwrite an existing resource:

```
PUT /questions/<existing_question> HTTP/1.1
Host: www.example.com/
```

**4.3.4. PUT**

The PUT method requests that the state of the target resource be `created` or `replaced` with the state defined by the representation enclosed in the request message payload.

2-5 header lines

```HTTP
GET /dir/page.html HTTP/1.1
Host: xxx 
connection: close
user-agent: mozilla/5.0
accept-language: fr

(entity body)
```

1. post 只能对已经存在url使用

response

status code

101 switching protocols

200 ok

301 Moved Permanently

302 move temperory

304 not modified 不返回资源

305 use proxy

308 Permanent Redirect

400 bad request

401 unauthorized

403 forbidden 状态码意为服务器成功解析请求但是客户端没有访问该资源的权限

404 not found

405 method no allowed

408 request timeout

**`500 Internal Server Error`**

501 not implement

502 bad gateway

504 gateway timeout

505 http version ot supported

```http
HTTP/1.1 200 OK
connection: close
date: xxx
server: Apache/2.2.3 (centos)
last-modified: xxx
content-length: 2000
content-type: text/html

(entity body)
```



### 2.2.4  User-Server Interaction: Cookies 

- cookie 组成
  - Cookie: from user to server
  - Set-Cookie: from server to user
  - cookie 文件 in user
  - cookie db in server
- cookie 过程
  1. c: request
  2. s: set-cookie, entry in db
  3. c: cookie
  4. s: identify in db, response

2.2.5  Web Caching 

also called proxy server

2.2.6  The Conditional GET 114

- If-Modified-Since: from web cache to server



2.3  File Transfer: FTP 

TCP, maintain state, 7-bit ASCII

2.3.1 FTP Commands and Replies 

(first) control connection persistent

(then) data connection not persistent



??????这里请继续

2.4  Electronic Mail in the Internet 

2.4.1  SMTP 121

2.4.2  Comparison with HTTP 124

- http pull, smtp push

2.4.3  Mail Message Format 125

2.4.4  Mail Access Protocols 125

- pop3, imap, http



2.5  DNS—The Internet’s Directory Service

2.5.1  Services Provided by DNS 

distributed databas, UDP, port 53

2.5.2  Overview of How DNS Works 

- root server, TLD dns server(top-level domain), authoritative dns server, local dns server
- cache

2.5.3  DNS Records and Messages 

- (name, value, type, ttl)
- type
  - A hostname - ip
  - NS domain(com) - authoritative dns server
  - CNAME alias hostname - canonical hostname
  - MX alias hostname - mail server canonical hostname



??????请继续

2.6  Peer-to-Peer Applications 

2.6.1  P2P File Distribution

- bittorrent, tracker --> torrent
- principle: tit for tat
  1. rarest first, request the rarest chunk first
  2. highest rate, response the neighbors who supplying data at the highest rate

2.6.2  Distributed Hash Tables (DHTs) 151



2.7  Socket Programming: Creating Network Applications 

2.7.1  Socket Programming with UDP 

```python
from socket import *
serverName = 'hostname'
serverPort = 12000
clientSocket = socket(AF_INET, SOCK_DGRAM)
message = "?"
clientSocket.sendto(message, (serverName, serverPort))
response, serverAddress = clientSocket.recvfrom(2048)
#2048buffer
clientSocket.close()

from socket import *
serverPort = 12000
serverSocket = socket(AF_INET, SOCK_DGRAM)
serverSocket.bind(('', serverPort))
while 1:
    message, clientAddress = serverSocket.recvfrom(2048)
    serverSocket.sendto("!", clientAddress)
```



2.7.2  Socket Programming with TCP 

```python
from socket import *
serverName = 'hostname'
serverPort = 12000
clientSocket = socket(AF_INET, SOCK_STREAM)
clientSocket.connect((serverName, serverPort))
message = "?"
clientSocket.send(message)
response = clientSocket.recv(2048)
clientSocket.close()

from socket import *
serverPort = 12000
serverSocket = socket(AF_INET, SOCK_STREAM)
serverSocket.bind(('', serverPort))
serverSocket.listen(1)
# 1 代表队列中的连接数(连接数最小为 1)
while 1:
    connectionSocket, addr = serverSocket.accept()
    message = connectionSocket.recv(2048)
    connectionSocket.send("!")
    connectionSocket.close()
```



2.8  Summary 





## 3 Transport Layer 

3.1  Introduction and Transport-Layer Services 

3.1.1  Relationship Between Transport and Network Layers 

transport layer: logical communication between processes

network layer: provide communication between hosts

3.1.2  Overview of the Transport Layer in the Internet 

segment

3.2  Multiplexing and Demultiplexing 191

- port
- udp socket is identified by dest-IP and dest-port
  tcp socket is identified by dest-IP, dest-port, source-IP and source-port

3.3  Connectionless Transport: UDP 198

UDP 使用场景: 语音视频通话, dns, 流媒体

3.3.1  UDP Segment Structure 202

3.3.2  UDP Checksum 202

- 16 位循环累加, 进位循环到最低位, 最后取反 = checksum

3.4  Principles of Reliable Data Transfer 204

3.4.1  Building a Reliable Data Transfer Protocol 206

| version  | problem                        | enhancement                                                  |
| -------- | ------------------------------ | ------------------------------------------------------------ |
| 1.0      | underlying completely reliable | nothing                                                      |
| 2.0      | bit errors                     | ARQ(automatic repeat request)<br />stop and wait             |
| 2.1      | corrupted ACK, NAK             | sequence number                                              |
| 2.2      | two acknowledge                | duplicate ACKs                                               |
| 3.0      | lose packet                    | timers                                                       |
| pipeline | stop and wait                  | pipeline                                                     |
| GBN      | pipeline                       | more sequence number<br />sliding window protocol<br />only one timer<br />receiver no buffer |
| SR       | GBN resend all                 | each packet own a timer<br />                                |



3.4.2  Pipelined Reliable Data Transfer Protocols 215

### 3.4.3  Go-Back-N (GBN) 

![截屏2022-09-20 19.11.05](https://tva1.sinaimg.cn/large/e6c9d24ely1h6da6fbs00j20nc07o0t5.jpg)

![截屏2022-09-20 19.09.28](https://tva1.sinaimg.cn/large/e6c9d24ely1h6da4rjxabj20u00zntc5.jpg)

### 3.4.4  Selective Repeat (SR) 223

| 属性               | GBN                                | SR                                           | TCP  |
| ------------------ | ---------------------------------- | -------------------------------------------- | ---- |
| timer              | only one in sender                 | each packet own a timer                      | 1    |
| receiver buffer    | no                                 | yes                                          |      |
| sender attribute   | next sequence, base, window size N | next sequence, base, window size N, ACK list |      |
| receiver attribute | expect sequence                    | next sequence, base, window size N           |      |

TCP: sender: 如果 timeout, 只发送最小未被 ack 的包, 不继续



3.5  Connection-Oriented Transport: TCP 230

3.5.1  The TCP Connection 231

- three way handshake

3.5.2  TCP Segment Structure 233

![截屏2022-09-29 13.42.52](../../../../../Library/Application Support/typora-user-images/截屏2022-09-29 13.42.52.png)

3.5.3  Round-Trip Time Estimation and Timeout 

- sample RTT
  The way it takes RTT samples is by using a timer to meassure the time it takes for a packet to be sent and the acknowledgment for that particular packet to be received again. This means it can take a new sample every RTT. By using the timestamp TCP option, it is also possible to use every ack as a sample.
- estimatedRTT = (1-α) \* estimatedRTT + α \* sampleRTT   α = 0.125
- deviationRTT = (1-β) \* deviationRTT + β \* |sampleRTT - estimatedRTT|   β = 0.25
- TimeoutInterval = estimatedRTT + 4 * deviationRTT

### 3.5.4  Reliable Data Transfer 

- a single retransmission timer

- each time retransmite, double timeout

- sender 收到三次冗余 ack, 马上重传

  冗余 ACK, 快速重传: When a TCP receiver receives a segment with a **sequence number that is larger than the next, expected**, in-order sequence number, it detects a gap in the data stream—that is, a missing segment. it simply reacknowledges (that is, generates a duplicate ACK for) the last in-order byte of data it has received.

### 3.5.5  Flow Control 

- 将 sender 发送数据的速度和 receiver 应用读取的速度匹配 
  
  **sender's receive window**  
  
  **receiver's last_byte_received, last_byte_read**
  
  - **receive_window = receive_buffer - (last_byte_received - last_byte_read)**, 
  - receiver tells sender the receive_window every segment, 
  - sender keeps tracking last_byte_sent and last_byte_acked, keeping **(last_byte_sent - last_byte_acked) < receive_window**

### 3.5.6  TCP Connection Management 

- three-way-handshake
  1. c: SYN, random initial sequnce number = x, SYN = 1
  2. s: SYNACK, allocate TCP variables and buffer, initial sequence number = y, SYN = 1, ACK = x+1
  3. c: SYN = 0, allocate variables and buffer, carry payload, sequence number = x + 1, ACK = y+1
- 四次挥手
  1. c: FIN = 1, c->FIN_WAIT_1
  2. s: ACK, c->FIN_WAIT_2, s->CLOSE_WAIT, 可能是半关闭状态
  3. s: FIN = 1, c->TIME_WAIT, s->LAST_ACK
  4. c: ACK, wait 30s(2MSL), release resourses
- SYN cookie: server 的 initial seqnum 是 SYN segment 的 sourse dest ip port 做的 hash function(即 cookie)
  当 client 发回 SYNACK 时, 用 hash function 再次计算, 如果得到的值和 ack 一样, 那么说明之前已经有过半连接

3.6  Principles of Congestion Control 

3.6.1 The Causes and the Costs of Congestion 259 

3.6.2 Approaches to Congestion Control 

3.6.3 Network-Assisted Congestion-Control Example:
 ATM ABR Congestion Control 266

### 3.7  TCP Congestion Control 

- sender how to limit rate

  change congestion window(cwnd)

  lastbytesent - lastbyteacked <= min(cwnd, rwnd)

- how sender perceives congestion

  快速重传(3acks)

- algorithm

  - slow start

    cwnd initialized small 每当收到正确 ack 就增长(宏观指数增长) 1 mss per ack

    ssthresh(slow start threshold)

  - congestion avoidance 

    超过 ssthresh 后线性增长

    1 mss/cwnd per ack

    当快速重传时, ssthresh = cwnd/2, cwnd = cwnd/2

    when cwnd == ssthresh, 进入 congestion avoidance 阶段

    cwnd 减半 increase cwnd 1 MSS every RTT

  - fast recovery: TCP Reno cwnd减半  而不是变为 1 然后指数增长


![img](https://pic4.zhimg.com/80/v2-5f4034bc11c3a48a1d1a115f9ee0259b_1440w.jpg)

3.7.1 Fairness 279

3.8  Summary 283



## 4 The Network Layer 

host to host

4.1  Introduction 

4.1.1  Forwarding and Routing 

4.1.2  Network Service Models 

4.2  Virtual Circuit and Datagram Networks 

4.2.1  Virtual-Circuit Networks 

4.2.2  Datagram Networks 

4.2.3  Origins of VC and Datagram Networks 

4.3  What’s Inside a Router? 

input port, switch fabric, output port, routing forward

4.3.1  Input Processing 322

4.3.2  Switching 324

4.3.3  Output Processing 326

4.3.4  Where Does Queuing Occur? 327

4.3.5  The Routing Control Plane 331

4.4  The Internet Protocol (IP): Forwarding and Addressing in the Internet 

4.4.1  Datagram Format 

![截屏2022-09-28 22.27.41](https://tva1.sinaimg.cn/large/e6c9d24ely1h6nbym7o2zj20kw0gqt9v.jpg)

IP Datagram Fragmentation(in end system)

The maximum amount of data that a **link-layer frame** can carry is called the **maximum transmission unit (MTU)**. 

### 4.4.2  IPv4 Addressing 

32=8*4

233.1.1.0/24     /24 is subnet mask, 意味着左边 24 位定义了子网的地址

To determine the subnets, detach each interface from its host or router, creating islands of isolated networks, with interfaces terminating the end points of the isolated networks. Each of these isolated networks is called a subnet.

CIDR(classless interdomain routing)

a.b.c.d/x 外界路由只需要记录前缀

#### DHCP(dynamic host configuration protocol)

1. DHCP discover message, udp packet at port 67 broadcast source:0.0.0.0
2. DHCP offer message broadcast
3. DHCP request choose an offer
4. DHCP ACK

#### NAT(network address translation)

公用 ip+port -> 私有 ip+port 的映射

NAT translation table

NAT 内的 host 可以主动向外连接, 但外界无法主动连接到 NAT内部

### 4.4.3  Internet Control Message Protocol (ICMP) 

lies above ip, icmp message carried inside ip datagram

ICMP messages have a type and a code field, and contain the header and the first 8 bytes of the IP datagram that caused the ICMP message to be generated in the first place

ping: icmp type 8 code 0

traceroute

### 4.4.4  IPv6 

![截屏2022-09-29 12.15.24](https://tva1.sinaimg.cn/large/e6c9d24ely1h6ncqo5fjyj20t40iswfu.jpg)



4.4.5  A Brief Foray into IP Security 362

4.5  Routing Algorithms 363

4.5.1  The Link-State (LS) Routing Algorithm 366

4.5.2  The Distance-Vector (DV) Routing Algorithm 371

4.5.3  Hierarchical Routing 379

4.6  Routing in the Internet 383

4.6.1  Intra-AS Routing in the Internet: RIP 384

4.6.2  Intra-AS Routing in the Internet: OSPF 388

4.6.3  Inter-AS Routing: BGP 390

4.7  Broadcast and Multicast Routing 399

4.7.1 Broadcast Routing Algorithms 400 4.7.2 Multicast 405

4.8 Summary 412 

Chapter 5 The Link Layer: Links, Access Networks, and LANs 

5.1 Introduction to the Link Layer 

5.1.1 The Services Provided by the Link Layer

5.1.2 Where Is the Link Layer Implemented? 5.2 Error-Detection and -Correction Techniques 5.2.1 Parity Checks 5.2.2 Checksumming Methods 5.2.3 Cyelic Redundancy Check (CRC) 5.3 Multiple Access Links and Protocols 5.3.1 Channel Partitioning Protocols 5.3.2 Random Access Protocols 5.3.3 Taking-Turns Protocols 5.3.4 DOCSIS: The Link-Layer Protocol for Cable Internet Access

5.4 Switched Local Area Networks 

5.4.1 Link-Layer Addressing and ARP





 5.4.2 Ethernet 5.4.3 Link-Layer Switches 5.4.4 Virtual Local Area Networks (VLANs) 5.5 Link Virtualization: A Network as 2 Link Layer 5.5.1 Multiprotocol Label Switching (MPLS) 5.6 Data Center Networking 5.7 Retrospective: A Day in the Life of a Web Page Request 5.7.1 Getting Started: DHCP, UDP, IP, and Etheret 5.7.2 Still Getting Started: DNS and ARP 5.7.3 Still Getting Started: Intra-Domain Routing to the DNS Server 5.7.4 Web Client-Server Interaction: TCP and HTTP 5.8 Summary

Chapter 6 Wireless and Mobile Networks 6.1 Introduction 6.2 Wireless Links and Network Characteristics 6.2.1 CDMA 6.3 WiFi: 802.11 Wireless LANs 6.3.1 The 802.11 Architecture 6.3.2 The 802.11 MAC Protocol 6.3.3 The IEEE 802.11 Frame 6.3.4 Mobility in the Same IP Subnet 6.3.5 Advanced Features in 802.11 6.3.6 Personal Area Networks: Bluetooth and Zigbee 6.4 Cellular Internet Access 6.4.1 An Overview of Cellular Network Architecture 6.4.2 3G Cellular Data Networks: Extending the Internet to Cellular Subscribers 6.4.3 On to 4G: LTE 6.5 Mobility Management: Principles 6.5.1 Addressing 6.5.2 Routing to a Mobile Node 6.6 Mobile IP 6.7 Managing Mobility in Cellular Networks 6.7.1 Routing Calls to a Mobile User 6.7.2 Handoffs in GSM

6.8 Wireless and Mobility: Impact on Higher-Layer Protocols 6.9 Summary



## 8 Security in Computer Networks 

8.1 What Is Network Security? 

1. encryped
2. integrity
3. end-point authentation

8.2 Principles of Cryptography 

8.2.1 Symmetric Key Cryptography 

### 8.2.2 Public Key Encryption

public key to encrypt from sender to rcver

private key to decrypt

用公钥系统加密对称秘钥

8.3 Message Integrity and Digital Signatures 

8.3.1 Cryptographic Hash Functions 

MD5 127bits

SHA-1 160bits

### 8.3.2 Message Authentication Code (MAC)

sender and rcver noth have a shared secret key s(authentication key)

sender has message m

hash func H()

1. sender create H(m+s)  (which is called MAC)
2. sender send  m+H(m+s)
3. rcver rcv m'+H(m+s), calculate h' = H(m'+s), compare h h'

### 8.3.3 Digital Signatures 

sender want to sign a message s, sender has private key K^-^

sender rcver both know sender's public key K^+^

1. sender create K^-^(H(m)), send m+K^-^(H(m))
2. rcver rcv, decrypt K^+^ [  K^-^(H(m))  ] get h
3. rcver calculate h' = H(m') compare h' h

certification authority: A CA verifies that an entity (a person, a router, and so on) is who it says it is.

Once the CA verifies the identity of the entity, the CA creates **a certificate that binds the public key of the entity to the identity.** The certificate contains the public key and globally unique identifying information about the owner of the public key (for example, a human name or an IP address).

certification contains CA private key(bob'name bob's public key)

### 8.4 End-Point Authentication 

8.4.1 Authentication Protocol ap1.0 

8.4.2 Authentication Protocol ap2.0 

8.4.3 Authentication Protocol ap3.0 

8.4.4 Authentication Protocol ap3.1 

8.4.5 Authentication Protocol ap4.0 

alice sender bob rcver

nonce is a number that a protocol will use only once in a lifetime

1. Alice sends the message “I am Alice” to Bob.
2. Bob chooses a **nonce, R**, and sends it to Alice.
3. Alice encrypts the nonce using Alice and Bob’s symmetric secret key, K~A-B~, and sends the encrypted nonce, **K~A-B~ (R)**, back to Bob. As in protocol ap3.1, it is the fact that Alice knows KA - B and uses it to encrypt a value that **lets Bob know that the message he receives was generated by Alice. The nonce**
**is used to ensure that Alice is live.**
4. Bob **decrypts the received message**. If the decrypted nonce equals the nonce he sent Alice, then Alice is authenticated.

8.5 Securing E-Mail 

8.5.1 Secure E-Mail 

8.5.2 PGP 

### 8.6 Securing TCP Connections: SSL 

8.6.1 The Big Picture 

secure socket layer

transport layer security

server has a public-private key-pair and a certification with public key

- handshake

  1. tcp three shake
  2. c: SSL hello(list of 加密算法, client nonce)
  3. s: certification with public key (+选择的算法)
  4. c: create MS(master secret), EMS = K^+^(MS), send EMS
  5. both client and server has MS
  6. The client sends a MAC of all the handshake messages.
  7. The server sends a MAC of all the handshake messages.

  6, 7 是为了确保加密前的信息没有被篡改

- key derivation: 4keys: 两个加密两个 MAC

- 传输

  - 把 stream 分成 record
  - 维持一个 sequence number, 每个 record 递增
  - 每个 record + MAC(H(m+K+sequence number)) (用四个钥匙其中之一)
  - 加密 message+MAC, send
  - record 只有 message+mac 是加密的, 其余字段是明文

- 结束: record 字段结束, 不能单纯依靠 TCP 断开

8.6.2 A More Complete Picture 

8.7 Network-Layer Security: IPsec and Virtual Private Networks 8.7.1 IPsec and Virtual Private Networks (VPNs) 8.7.2 The AH and ESP Protocols 8.7.3 Security Associations 8.7.4 The IPsec Datagram 8.7.5 IKE: Key Management in IPsec 8.8 Securing Wireless LANs 8.8.1 Wired Equivalent Privacy (WEP) 8.8.2 IEEE 802.11i 8.9 Operational Security: Firewalls and Intrusion Detection Systems 8.9.1 Firewalls 8.9.2 Intrusion Detection Systems 8.10 Summary

# 计算机网络自顶向下 英文对照表

## 第一章 计算机网络和 Internet

switch 交换机

router 路由器

coaxial cable 同轴电缆

optical fiber 光纤

radio spectrum 无线电

ISP(Internet Service Provider) 网络服务提供商

modem(modulator and demodulator) 调制解调器

IETF(Internet engineering task force) 互联网工程任务组

RFCs(requests for comments) IETF standards documents

API(application programming interface)



host 主机, end system

access network 接入网络

CO(central office)

DSL(digital subscriber line) 数字用户线路

​	DSLAM(DSL access multiplexer)

HFC(hybrid fiber coax) cable Internet access

​	CMTS(cable modem termination system)约等于 DLS 里的 DSLAM

FTTH(fiber to the home)

LAN(local area network)

​	Ethernet 以太网

​	3G(third-generation wireless)	

twisted-pair copper wire 双绞线

coaxial cable 同轴电缆

fiber optics 光纤

terrestrial radio channels 地面广播频道

satellite radio channels 卫星广播频道

​	geostationary satellite 地球同步卫星

​	LEO(low-earth orbiting) 近地轨道卫星



packet switching 分组交换

circuit switching 电路交换

​	FDM(frequency-division multiplexing)

​	TDM(time-division multiplexing)

​	bandwidth 带宽

network structure 1-5

​	PoPs(points of presence) 网络入网点

​	IXPs(Internet exchange points) 互联网交换节点

​	peer 同级交换



throughput 吞吐量



layer

​	application

​	transport

​	network

​	link

​	physic

ISO(International Organization for Standardization) 国际标准化组织

OSI 开放系统互连(模型)

DoS denial of service attack 拒绝服务攻击

DDoS distributed DoS 分布式 DoS

## 第二章 应用层

CS client-server architecture 客户-服务器

P2P 对等体系架构

process 进程

message 报文

socket 套接字

API application programming interface 应用程序编程接口

RDT reliable data transfer可靠数据传输

SSL secure socket layer 安全套接字层



HTTP hypertext transfer protocol 超文本传输协议

RTT round-trip time 往返时间

web cache web 缓存器 也叫代理服务器(proxy server)

CDN content distribution network 内容分发网络



SMTP simple mail transfer protocol 简单邮件传输协议

user agent 用户代理

mail server 邮件服务器

POP3 post office protocol-version3 第三版邮局协议

IMAP internet mail access protocol 因特网邮件访问协议



DNS domain name system 域名系统

BIND (Berkeley internet name domain) BIND 软件

TLD top-level domain



torrent 洪流



DASH dynamic adaptive streaming over HTTP 经 http 的动态适应性流

## 第三章 运输层

UDP user datagram protocol

TCP transfer control protocol

segment 报文段(运输层)

transport-layer multiplexing 多路复用

demultiplexing 多路分解



FSM finite-state machine 有限状态机

ARQ automatic repeat reQuest 自动重传请求协议

stop-and-wait 停等协议

alter-nating-bit protocol 比特交替协议

GBN go-back N 回退 N 步(又叫sliding-window protocol 滑动窗口协议)

SR selective repeat 选择重传



MSS maximum segment size 最大报文段长度(应用层数据的最大长度)

MTU maximum transmission unit 最大传输单元 (最大链路层帧长度)

cumulative acknowledgment 累计确认

SampleRTT 样本 RTT

​	EstimateRTT DevRTT

fast retransmit 快速重传

## 第四章 网络层:数据平面

forwarding 转发

routing 路由选择

SDN software defined networking 软件定义网络

head-of-the-line HOL 线路前部(阻塞)

FIFO FCFS 先进先出, 先来先服务

priority queueing 优先权排队

WFQ weighted fair queueing 加权公平排队



TTL time-to-live 寿命

MTU

network mask 子网掩码

CIDR classless interdomain routing 无类别域间路由选择

ICANN internet corporation for assigned names and numbers 英特网名字和编号分配机构

DHCP dynamic host configuration 动态主机配置协议

WAN wide area network 广域网

LAN local area network 局域网

WLAN wireless LAN 无线局域网

VLAN virtual LAN 虚拟局域网

wifi wireless fidelity

NAT network address translation 网络地址转换

## 第五章 网络层: 控制平面

LS link state 链路状态算法

decentralized routing algorithm 分散式路由选择算法

dijkstra 狄利克雷算法

DV distance-vector 距离向量算法

bellman-ford 方程

OSPF open shortest path first 开放式最短路径有限

AS autonomous system 自治系统

ASN AS号

BGP broder gateway protocol 边界网关协议







































